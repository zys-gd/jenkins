node {
	def WORKSPACE = pwd()
	def props = readProperties file: "${WORKSPACE}/prod/environment/.properties"
	dynamicParams = []
	props.each { key, value ->
		dynamicParams += [
            string(name: "$key", defaultValue: "$value", description: ''),
        ]
	}
	properties([
        parameters(dynamicParams)
    ])

}


pipeline {
	agent any

    stages {
        stage ('Update .env') {
            steps {
                script {
					params.each {key, value ->
					  println "${key} -> ${value} "
					}
				}
			}
        }
    }
}
